(this["webpackJsonpchuck-norris-app"]=this["webpackJsonpchuck-norris-app"]||[]).push([[0],{12:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){e.exports=a(27)},21:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),s=r.a.createContext(),i=s.Provider,u=s.Consumer,l=a(1),m=a.n(l),d=a(5),f=a(4),p=function(e){var t=new Date(e);return Math.floor((new Date).getTime()/1e3/3600)-Math.floor(t.getTime()/1e3/3600)},h=a(3),g=a(8),v=a(10),b=a(9),k=(a(15),a(2)),E=(a(12),function(){return function(e){return function(t){return r.a.createElement(u,null,(function(a){return r.a.createElement(e,Object.assign({},t,{service:a}))}))}}}),j=function(e){var t=e.Allcategories,a=e.onOptionsAdded,c=Object(n.useState)(t),o=Object(k.a)(c,2),s=o[0],i=o[1],u=function(e){var n=e.target,r=(n.id,n.innerHTML),c=t.find((function(e){return e.value===r})),o=t.findIndex((function(e){return e.value===r})),s={value:c.value,active:!0},u=[].concat(Object(h.a)(t.slice(0,o)),[s],Object(h.a)(t.slice(o+1)));i(u),a({selectedCategory:c.value,label:""})};return r.a.createElement("div",{className:"categories-wrap"},s.map((function(e,t){return r.a.createElement("span",{key:t,id:e.active?"category-active":"category",onClick:u},e.value)})))},y=(a(21),function(e){var t=e.jokeData,a=e.onFlagChange,n=t.id,c=t.joke,o=t.hoursAgo,s=t.category,i=t.favorite?"fas":"far";return r.a.createElement("div",{className:"wrap-box"},r.a.createElement("div",{className:"joke-box"},r.a.createElement("span",{id:"secondary-text"},"ID: ",r.a.createElement("a",{href:"/"},n)),r.a.createElement("p",null,c),r.a.createElement("div",{className:"bottom-line"},r.a.createElement("div",{className:"secondary-text-wrap"},r.a.createElement("span",{id:"secondary-text"},"Last update: ",o," hours ago")),r.a.createElement("div",{className:"categories-wrap"},r.a.createElement("span",{id:"category-disabled"},s)))),r.a.createElement("i",{className:"message-icon far fa-comment-alt"}),r.a.createElement("i",{className:"heart-icon fa-heart "+i,onClick:function(){a(n)}}))}),O=function(e){var t=e.handleChange,a=Object(n.useState)(""),c=Object(k.a)(a,2),o=c[0],s=c[1];return r.a.createElement("input",{className:"search-input",type:"search",placeholder:"Free text search...",value:o,onChange:function(e){var a=e.target.value;t(a),s(a)}})},C=(a(22),a(25),function(e){var t=e.dataList,a=e.renderItem,n=t.map((function(e,t){return a(e)}));return r.a.createElement("div",{className:"items-wrap"},n)}),w=E()((function(e){e.data;var t=e.service,a=(e.onJokesAdded,e.onOptionsAdded),c=Object(n.useState)(),o=Object(k.a)(c,2),s=o[0],i=o[1],u=Object(n.useState)(""),l=Object(k.a)(u,2),m=(l[0],l[1],Object(n.useState)([])),d=Object(k.a)(m,2),f=d[0],p=d[1],h=Object(n.useState)([]),g=Object(k.a)(h,2),v=(g[0],g[1],Object(n.useState)("")),b=Object(k.a)(v,2);b[0],b[1];Object(n.useEffect)((function(){y()}),[]);var E=t.getCategories,y=(t.getRandomJoke,t.getJokeByCategory,t.getJokeBySearch,function(){E().then((function(e){return p(e.slice(0,4))}))}),C=function(e){switch(e.target.id){case"random":i("random");break;case"categories":i("categories");break;case"search":i("search");break;default:return"random"}},w=[];f.forEach((function(e){w.push({value:e,active:!1})})),console.log(w);var N=r.a.createElement(j,{Allcategories:w,onOptionsAdded:a}),D=r.a.createElement(O,{handleChange:function(e){return a({selectedCategory:"",label:e})}});return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("span",{id:"logo"},"MSI 2020"),r.a.createElement("h1",{onClick:function(e){return console.log(e.target.value)}},"Hey!"),r.a.createElement("h2",null,"Let\u2019s try to find a joke for you:"),r.a.createElement("div",{className:"form-check"},r.a.createElement("label",{className:"form-check-label"},r.a.createElement("input",{type:"radio",className:"form-check-input",name:"optionsRadios",id:"random",onChange:C}),r.a.createElement("span",null,"Random"))),r.a.createElement("div",{className:"form-check"},r.a.createElement("label",{className:"form-check-label"},r.a.createElement("input",{type:"radio",className:"form-check-input",name:"optionsRadios",id:"categories",onChange:C}),r.a.createElement("span",null,"From categories"))),"categories"===s&&N,r.a.createElement("div",{className:"form-check"},r.a.createElement("label",{className:"form-check-label"},r.a.createElement("input",{type:"radio",className:"form-check-input",name:"optionsRadios",id:"search",onChange:C}),r.a.createElement("span",null,"Search"))),"search"===s&&D)})),N=(a(26),function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={favoriteList:[]},e.updateList=function(){var t=e.props.data.filter((function(e){return e.favorite}));e.setState({favoriteList:t})},e.onToggle=function(){e.wrapperRef.current.classList.toggle("is-nav-open")},e.wrapperRef=r.a.createRef(),e}return Object(g.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.data!==e.data&&this.updateList()}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.onFlagChange,n=this.state.favoriteList;console.log(t);n.map((function(e,t){return r.a.createElement(y,{jokeData:e})}));return r.a.createElement("div",{ref:this.wrapperRef,className:"wrapper"},r.a.createElement("div",{className:"side-bar"},r.a.createElement("span",{className:"toggler",onClick:this.onToggle},"Favorite"),r.a.createElement("div",{className:"side-bar-content"},r.a.createElement(C,{dataList:n,renderItem:function(e){return r.a.createElement(y,{jokeData:e,onFlagChange:a})}}))))}}]),a}(n.Component)),D=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={jokesData:[],fetchOptions:{selectedCategory:"",label:""}},e.fetchJoke=function(){var t=e.props.service,a=(t.getCategories,t.getRandomJoke),n=t.getJokeByCategory,r=t.getJokeBySearch,c=e.state,o=c.jokesData,s=c.fetchOptions,i=s.selectedCategory,u=s.label;i?n(i).then((function(t){if(t.id){var a=[t].concat(Object(h.a)(o));e.setState({jokesData:a})}})):u?r(u).then((function(t){if(t.id){var a=[t].concat(Object(h.a)(o));e.setState({jokesData:a})}})):a.apply(void 0,arguments).then((function(t){if(t.id){var a=[t].concat(Object(h.a)(o));e.setState({jokesData:a})}}))},e.onFlagChange=function(t){var a=e.state.jokesData,n=a.find((function(e){return e.id===t})),r=a.findIndex((function(e){return e.id===t})),c=n.favorite;n.favorite=!c,e.setState({jokesData:[].concat(Object(h.a)(a.slice(0,r)),[n],Object(h.a)(a.slice(r+1)))})},e.onOptionsAdded=function(t){var a=t.selectedCategory,n=t.label;e.setState({fetchOptions:{selectedCategory:a,label:n}})},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){this.fetchJoke()}},{key:"render",value:function(){var e=this,t=this.state.jokesData;console.log(t);t.map((function(e,t){return r.a.createElement(y,{jokeData:e})}));return r.a.createElement("div",{className:"layout"},r.a.createElement("div",null,r.a.createElement(w,{onJokesAdded:this.updateData,onOptionsAdded:this.onOptionsAdded}),r.a.createElement("div",null,r.a.createElement("button",{className:"get-button",onClick:this.fetchJoke},"Get a joke")),r.a.createElement("div",{className:"item-list"},r.a.createElement(C,{dataList:t,renderItem:function(t){return r.a.createElement(y,{jokeData:t,onFlagChange:e.onFlagChange})}}))),r.a.createElement(N,{data:t,onFlagChange:this.onFlagChange}))}}]),a}(n.Component),x=E()(D);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i,{value:new function e(){var t=this;Object(f.a)(this,e),this._apiBase="https://api.chucknorris.io/jokes/",this.getResource=function(){var e=Object(d.a)(m.a.mark((function e(a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a));case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformData=function(e){return{id:e.id,joke:e.value,hoursAgo:p(e.updated_at),category:e.categories,url:e.url,favorite:!1}},this.getCategories=Object(d.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("categories");case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))),this.getRandomJoke=Object(d.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("random");case 2:return a=e.sent,e.abrupt("return",t._transformData(a));case 4:case"end":return e.stop()}}),e)}))),this.getJokeByCategory=function(){var e=Object(d.a)(m.a.mark((function e(a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("random?category=".concat(a));case 2:return n=e.sent,e.abrupt("return",t._transformData(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getJokeBySearch=function(){var e=Object(d.a)(m.a.mark((function e(a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("search?query=".concat(a));case 2:return n=e.sent,e.abrupt("return",t._transformData(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},r.a.createElement(x,null))),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.04d07a39.chunk.js.map